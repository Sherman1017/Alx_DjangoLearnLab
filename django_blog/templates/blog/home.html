{% extends 'base.html' %}

{% block title %}Blog Posts{% endblock %}

{% block content %}
<h1 class="mb-4">Blog Posts</h1>

{% for post in posts %}
<div class="post">
    <h2>{{ post.title }}</h2>
    <p class="text-muted">
        By {{ post.author }} on {{ post.created_at|date:"F d, Y" }}
    </p>
    <p>{{ post.content|truncatewords:50 }}</p>
    <a href="{% url 'post_detail' pk=post.pk %}" class="btn btn-primary">
        Read More & View Comments
    </a>
</div>
{% empty %}
<div class="alert alert-info">
    <h4>No posts yet!</h4>
    <p>Check back later for new blog posts.</p>
</div>
{% endfor %}

<div class="card mt-4">
    <div class="card-body">
        <h5 class="card-title">Comment System URLs</h5>
        <p class="card-text">The comment system uses these exact URL patterns as required:</p>
        <ul class="mb-0">
            <li><code>/post/&lt;int:pk&gt;/comments/new/</code> - Create new comment</li>
            <li><code>/comment/&lt;int:pk&gt;/update/</code> - Update/edit comment</li>
            <li><code>/comment/&lt;int:pk&gt;/delete/</code> - Delete comment</li>
        </ul>
        <p class="mt-3 mb-0">
            <small class="text-muted">
                These match exactly what was specified in the instructions.
            </small>
        </p>
    </div>
</div>
{% endblock %}
