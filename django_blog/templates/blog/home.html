{% extends 'base.html' %}

{% block title %}Blog Posts{% endblock %}

{% block content %}
<h1 class="mb-4">Blog Posts</h1>

{% for post in posts %}
<div class="post">
    <h2>{{ post.title }}</h2>
    <p class="text-muted">
        By {{ post.author }} on {{ post.created_at|date:"F d, Y" }}
    </p>
    <p>{{ post.content|truncatewords:50 }}</p>
    <a href="{% url 'post_detail' pk=post.pk %}" class="btn btn-primary">
        Read More & View Comments
    </a>
</div>
{% empty %}
<div class="alert alert-info">
    <h4>No posts yet!</h4>
    <p>Check back later for new blog posts.</p>
</div>
{% endfor %}

{% if user.is_authenticated %}
<div class="mt-4">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Comment System URLs</h5>
            <p class="card-text">The comment system uses these URL patterns:</p>
            <ul>
                <li><code>/posts/&lt;post_id&gt;/comments/new/</code> - Create new comment</li>
                <li><code>/comments/&lt;comment_id&gt;/edit/</code> - Edit comment</li>
                <li><code>/comments/&lt;comment_id&gt;/delete/</code> - Delete comment</li>
            </ul>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}
